<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<jsp:root version="1.2"
      xmlns:jsp="http://java.sun.com/JSP/Page"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
	  xmlns:rich="http://richfaces.org/rich"> 

<html xmlns="http://www.w3.org/1999/xhtml" >
	<ui:composition template="/templates/main.xhtml">
		<ui:define name="body">
			<a4j:outputPanel ajaxRendered="true" id="mainOutputPanel">
				<a4j:form>
					<rich:panel id="listBox" rendered="#{roleBean.listState}" binding="#{roleBean.listBox}">
						<rich:dataTable value="#{rolesBean.roles}" var="role" 
								width="700" align="center" rows="10" id="roles"
								style="white-space: nowrap; overflow: auto;" >
							<f:facet name="header">
								<rich:columnGroup>
								 	<rich:column >
										<h:outputText value="#{labels['roles.name']}" />
									</rich:column>
								</rich:columnGroup>
							</f:facet>
							<rich:column title="nome" >
								<h:outputText value="#{role.name}" width="200"/>
							</rich:column>
						</rich:dataTable>
						
						<br />
					
						<a4j:commandButton action="#{roleBean.createRole}" value="#{labels['new']}" style="margin-left:45px;"/>
					</rich:panel>
					
					<rich:panel rendered="#{roleBean.createUpdateState}" id="createUpdateBox" binding="#{roleBean.createUpdateBox}">
						
						<h:panelGrid columns="2">
							<h:outputLabel value="#{labels['roles.name']}:" for="name" />
							<h:inputText id="name"/>
							
							<h:outputLabel value="#{labels['roles.description']}:" for="description" />
							<h:inputTextarea id="description" rows="3" cols="70"/>
						</h:panelGrid>
						
						<br />
						
						<a4j:commandButton actionListener="#{roleBean.confirmCreate}" value="#{labels['confirm']}" />
						<rich:spacer width="5"/>
						<a4j:commandButton actionListener="#{roleBean.back}" value="#{labels['back']}" />
					</rich:panel>
				</a4j:form>
			</a4j:outputPanel>
		</ui:define>
	</ui:composition>
</html>
</jsp:root>